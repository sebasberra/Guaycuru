{% extends '::base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    
{% endblock %}


{% block cuerpo %} 

    <h2>Test Web Services Camas</h2>

    
    {{form_start(form)}}
        {{ form_row(form.efectores) }}    
        {{ form_row(form.salas) }} 
    {{form_end(form)}}
    
    <script>
        
        var $efectores = $('#test_ws_camas_efectores');
        
        $efectores.change(function() {
            
            // form
            var $form = $(this).closest('form');
          
            // data
            var data = {};
            data[$efectores.attr('name')] = $efectores.val();
            
            console.log($form);
            console.log(data);
            
            // Submit data via AJAX to the form's action path.
            $.ajax({
                url : $form.attr('action'),
                type: $form.attr('method'),
                data : data,
                success: function(html) {
                    
                    console.log($form.attr('action'));
                    console.log($form.attr('method'));
                    console.log(html);
                    console.log($(html));
                    
                    $('#test_ws_camas_salas').replaceWith(
                        
                        $(html).find('#test_ws_camas_salas')
                    );
                  
                }
            });
        });
        
        
        
    </script>
   
    {#<script>
        
        var $salas = $('#test_ws_camas_salas');
        
        $salas.change(function() {
            
            // form
            var $form = $(this).closest('form');
          
            // data
            var data = {};
            data[$salas.attr('name')] = $salas.val();
            
            // Submit data via AJAX to the form's action path.
            $.ajax({
                url : $form.attr('action'),
                type: $form.attr('method'),
                data : data,
                success: function(html) {
                    
                    $('#test_ws_camas_habitaciones').replaceWith(
                        
                        $(html).find('#test_ws_camas_habitaciones')
                    );
                  
                }
            });
        });
        
    </script>#}
        
{% endblock %}

